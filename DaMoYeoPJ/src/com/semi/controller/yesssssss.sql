DROP SEQUENCE R_NO;
DROP SEQUENCE FOODSEQ;		
DROP SEQUENCE EXSEQ;		
DROP SEQUENCE COMM_BOARDSEQ;
DROP SEQUENCE ANSBOARDSEQ;
DROP SEQUENCE BASKET_SEQ;
DROP SEQUENCE ORDER_ID;
DROP SEQUENCE MYSEQ;

CREATE SEQUENCE R_NO;			-- 샵 리뷰 넘버시퀀스
CREATE SEQUENCE FOODSEQ;		-- 칼 다이어리 푸드시퀀스
CREATE SEQUENCE EXSEQ;			-- 칼 다이어리 운동시퀀스
CREATE SEQUENCE COMM_BOARDSEQ;	-- 커뮤니티 게시판 번호시퀀스
CREATE SEQUENCE ANSBOARDSEQ;	-- 커뮤니티 댓글 번호 시퀀스
CREATE SEQUENCE BASKET_SEQ;		-- 샵 장바구니 번호 시퀀스
CREATE SEQUENCE ORDER_ID;		-- 샵 주문번호 시퀀스
CREATE SEQUENCE MYSEQ;			-- 정보 글 번호


DROP TABLE "CALORIEDIARY";
DROP TABLE "INBODY";
DROP TABLE "FOODCALORIE";
DROP TABLE "EXCALORIE";
DROP TABLE ANSBOARD;
DROP TABLE CHOICEBOARD;
DROP TABLE COMM_BOARD;
DROP TABLE "REVIEW";
DROP TABLE "SALEORDER";
DROP TABLE "BASKET";
DROP TABLE "PRODUCT";
DROP TABLE LOGINBOARD;
DROP TABLE BIKE_TB;
DROP TABLE INFOBOARD;


--로그인 디비
CREATE TABLE LOGINBOARD(
	MYID VARCHAR2(500) NOT NULL,
	MYPW VARCHAR2(500) NOT NULL,
	MYNAME VARCHAR2(1000),
	MYGENDER VARCHAR2(2) CHECK(MYGENDER IN ('M','W')),
	MYBIRTHDAY NUMBER(6),
	MYADDR VARCHAR2(4000),
	MYPHONE VARCHAR2(20),
	MYEMAIL VARCHAR2(100),
	MYENABLED VARCHAR2(2),
	MYROLE VARCHAR2(100),
	CONSTRAINT LOGINBOARD_PK PRIMARY KEY(MYID),
	CONSTRAINT LOGINBOARD_UQ_PHONE UNIQUE(MYPHONE),
	CONSTRAINT LOGINBOARD_UQ_EMAIL UNIQUE(MYEMAIL),
	CONSTRAINT LOGINBOARD_ENABLED_CHK CHECK(MYENABLED IN ('Y','N'))
);


-- 칼다이어리 인바디 디비
CREATE TABLE "INBODY" (
	"MYID"	VARCHAR2(100)		NOT NULL,
	"WEIGHT"	NUMBER		NULL,
	"HEIGHT"	NUMBER		NULL,
	"BMI"	NUMBER		NULL,
	"METABOLISM"	NUMBER		NULL
);

-- 칼다이어리 칼로리다이어리 디비
CREATE TABLE "CALORIEDIARY" (
	"MDATE"	VARCHAR2(8)		NOT NULL,
	"MYID"	VARCHAR2(100)		NOT NULL,
	"TOTALCAL"	NUMBER		NULL,
	"TOTALMETA"	NUMBER		NULL,
	"REGDATE"	DATE		NOT NULL
);


-- 엑셀 파일 디비 푸드칼로리 및 운동 칼로리
CREATE TABLE "FOODCALORIE" (
	"FOODNO"	NUMBER		NOT NULL,
	"FOOD_GROUP"	VARCHAR2(500)		NOT NULL,
	"FOODNAME"	VARCHAR2(500)		NOT NULL,
	"SERVINGSIZE"	NUMBER		NOT NULL,
	"CALORIE"	NUMBER		NOT NULL
);

CREATE TABLE "EXCALORIE" (
	"EXNO"	NUMBER		NOT NULL,
	"EXNAME"	VARCHAR2(500)		NOT NULL,
	"COMMON"	NUMBER		NOT NULL,
	"CONSUMED_CALORIE"	NUMBER		NOT NULL
);

--커뮤니티 게시판 디비
CREATE TABLE COMM_BOARD(
	BOARDSEQ NUMBER PRIMARY KEY,
	MYID VARCHAR2(100) NOT NULL,
	BOARDNO NUMBER NOT NULL,
	TITLE VARCHAR2(1000) NOT NULL,
	CONTENT VARCHAR2(4000) NOT NULL,
	REGDATE DATE NOT NULL,
	VISITCNT NUMBER,
	ADDR VARCHAR2(4000)
);

--커뮤니티 댓글 디비
CREATE TABLE ANSBOARD(
	BOARDSEQ NUMBER NOT NULL,
	MYID VARCHAR2(100) NOT NULL,
	ANSNO NUMBER NOT NULL,
	GROUPNO NUMBER NOT NULL,
	GROUPSQ NUMBER NOT NULL,
	TTAB NUMBER NOT NULL,
	ANSCONTENT VARCHAR2(4000) NOT NULL,
	ANSREGDATE DATE NOT NULL
);

--커뮤니티 선택 디비
CREATE TABLE CHOICEBOARD(
	BOARDSEQ NUMBER NOT NULL,
	MYID VARCHAR2(100) NOT NULL,
	CHOICE VARCHAR2(2) NOT NULL
);	

-- 샵 장바구니 디비
CREATE TABLE BASKET(
	BASKET_SEQ NUMBER UNIQUE,
	MYID VARCHAR2(500) NOT NULL,
	PNAME VARCHAR2(500) NOT NULL,
	PID NUMBER NOT NULL,
	PRICE NUMBER NOT NULL,
	AMOUNT NUMBER NOT NULL
);

-- 샵 물품 디비
CREATE TABLE "PRODUCT" (
   "PID"   NUMBER 	NOT NULL,
   "PNAME"   VARCHAR2(100)      NOT NULL,
   "PPRICE"   NUMBER      NOT NULL, 
   "DESCRIPTION"   VARCHAR2(50)      NOT NULL,
   "PCOMPANY"   VARCHAR2(30)     
);

-- 샵 주문 디비
CREATE TABLE "SALEORDER" (
   "ORDER_ID"   NUMBER      UNIQUE,
   "PID"   NUMBER      NOT NULL,
   "PNAME"   VARCHAR2(500)	NOT NULL,
   "MYID"   VARCHAR2(500)      NOT NULL,
   "ADDR"   VARCHAR2(4000)   NOT NULL,   -- 주문자가 다른 위치로 배달을 원할 경우
   "AMOUNT"   NUMBER      NOT NULL,
   "PRICE"   NUMBER      NOT NULL,
   "ORDER_DATE"   DATE      NOT NULL,
   "ORDER_STATE"   NUMBER      NOT NULL
);

-- 샵 리뷰 디비
CREATE TABLE "REVIEW" (
   "R_NO"   NUMBER      NOT NULL,
   "PID"   NUMBER      NOT NULL,
   "R_STAR"   NUMBER      NULL,
   "R_WRITER"   VARCHAR2(1000)      NOT NULL,
   "R_TITLE"   VARCHAR2(3000)      NOT NULL,
   "R_CONTENT"   VARCHAR2(3000)      NOT NULL,
   "R_IMG"   VARCHAR2(100)      NULL,
   "R_DATE"   DATE      NOT NULL
);

-- 정보 디비
 CREATE TABLE INFOBOARD(
 	MYNO NUMBER PRIMARY KEY,
 	BOARDNO NUMBER NOT NULL,
 	MYNAME VARCHAR2(100) NOT NULL,
 	MYTITLE VARCHAR2(200) NOT NULL,
 	MYCONTENT VARCHAR2(1000) NOT NULL,
 	ADDR VARCHAR2(500) NOT NULL 
);

CREATE TABLE BIKE_TB(
	ADDR_GU VARCHAR2(4000),			--구분
	CONTENT_ID NUMBER PRIMARY KEY,	--대여소 번호
	CONTENT_NM VARCHAR2(4000),		--대여소명
	NEW_ADDR VARCHAR2(4000),		--대여소 주소
	CRADLE_COUNT NUMBER,			--거치대수
	LONGITUDE NUMBER,				--위도
	LATITUDE NUMBER					--경도
);



--샵 권한 변경

ALTER TABLE "PRODUCT" ADD CONSTRAINT "PK_PRODUCT" PRIMARY KEY (
   "PID"
);

ALTER TABLE "SALEORDER" ADD CONSTRAINT "PK_SALEORDER" PRIMARY KEY (
   "ORDER_ID",
   "PID"
);

ALTER TABLE "REVIEW" ADD CONSTRAINT "PK_REVIEW" PRIMARY KEY (
   "R_NO",
   "PID"
);

ALTER TABLE "SALEORDER" ADD CONSTRAINT "FK_PRODUCT_TO_SALEORDER_1" FOREIGN KEY (
   "PID"
)
REFERENCES "PRODUCT" (
   "PID"
);

ALTER TABLE "REVIEW" ADD CONSTRAINT "FK_PRODUCT_TO_REVIEW_1" FOREIGN KEY (
   "PID"
)
REFERENCES "PRODUCT" (
   "PID"
);

--커뮤니티 권한 변경
ALTER TABLE COMM_BOARD ADD CONSTRAINT COMM_BOARD_FK FOREIGN KEY(MYID) REFERENCES LOGINBOARD(MYID);
ALTER TABLE ANSBOARD ADD CONSTRAINT ANSBOARD_FK FOREIGN KEY(BOARDSEQ) REFERENCES COMM_BOARD(BOARDSEQ);
ALTER TABLE ANSBOARD ADD CONSTRAINT ANSBOARD_FK2 FOREIGN KEY(MYID) REFERENCES LOGINBOARD(MYID);
ALTER TABLE CHOICEBOARD ADD CONSTRAINT CHOICEBOARD_FK FOREIGN KEY(BOARDSEQ) REFERENCES COMM_BOARD(BOARDSEQ);
ALTER TABLE CHOICEBOARD ADD CONSTRAINT CHOICEBOARD_FK2 FOREIGN KEY(MYID) REFERENCES LOGINBOARD(MYID);


-- 칼다이어리 권한 변경
ALTER TABLE "INBODY" ADD CONSTRAINT "PK_INBODY" PRIMARY KEY (
	"MYID"
);

ALTER TABLE "CALORIEDIARY" ADD CONSTRAINT "PK_CALORIEDIARY" PRIMARY KEY (
	"MDATE",
	"MYID"
);

ALTER TABLE "INBODY" ADD CONSTRAINT "FK_LOGINBOARD_TO_INBODY_1" FOREIGN KEY (
	"MYID"
)
REFERENCES "LOGINBOARD" (
	"MYID"
);

ALTER TABLE "CALORIEDIARY" ADD CONSTRAINT "FK_INBODY_TO_CALORIEDIARY_2" FOREIGN KEY (
	"MYID"
)
REFERENCES "INBODY" (
	"MYID"
);

--로그인 관리자 디비
INSERT INTO LOGINBOARD VALUES('admin','admin1234','관리자','M', 190131,'서울시강남구','010-1111-2222','bbqq0108@nate.com','Y','ADMIN');
INSERT INTO LOGINBOARD VALUES('kh','kh','테스트','M', 190201,'서울시강남구','010-1111-2223','test@nate.com','Y','USER');

----------------------샵 테스트 디비
INSERT INTO PRODUCT VALUES(0,'현미닭가슴살영양밥&두부스테이크   ',4300,'체중조절 도시락 식단','꾹도시락');
INSERT INTO PRODUCT VALUES(1,'다섯가지나물밥&너비아니      ',4300,'체중조절 도시락 식단','꾹도시락');
INSERT INTO PRODUCT VALUES(2,'호박퀴노아영양밥&비프스테이크   ',4300,'체중조절 도시락 식단','꾹도시락');
INSERT INTO PRODUCT VALUES(3,'고구마현미영양밥&닭가슴살스테이크',4300,'체중조절 도시락 식단','꾹도시락');
INSERT INTO PRODUCT VALUES(4,'곤드레밥 & 오믈렛골드      ',4300,'체중조절 도시락 식단','꾹도시락');
INSERT INTO PRODUCT VALUES(5,'리얼 쉬림프 토핑  샐러드      ',5300,'토핑 샐러드 1팩','아임웰');
INSERT INTO PRODUCT VALUES(6,'롤치즈 & 고구마큐브 토핑 샐러드   ',5300,'토핑 샐러드 1팩','아임웰');
INSERT INTO PRODUCT VALUES(7,'훈제 닭가슴살 토핑 샐러드      ',5300,'토핑 샐러드 1팩','아임웰');
INSERT INTO PRODUCT VALUES(8,'델리 미트볼 토핑 샐러드      ',5300,'토핑 샐러드 1팩','아임웰');
INSERT INTO PRODUCT VALUES(9,'갈릭 케이준 치킨 토핑 샐러드      ',5300,'토핑 샐러드 1팩','아임웰');
INSERT INTO PRODUCT VALUES(10,'베이컨 시저 토핑 샐러드      ',5300,'토핑 샐러드 1팩','아임웰');


-- 샵 주문 상품 조회 테스트 디비
INSERT INTO SALEORDER VALUES(ORDER_ID.NEXTVAL, 0, '현미닭가슴살영양밥&두부스테이크   ', 'kh', '경기도', 1, 4000, SYSDATE, 1);
INSERT INTO SALEORDER VALUES(ORDER_ID.NEXTVAL, 1, '다섯가지나물밥&너비아니      ', 'kh', '경기도', 2, 8600, SYSDATE, 2);
INSERT INTO SALEORDER VALUES(ORDER_ID.NEXTVAL, 3, '고구마현미영양밥&닭가슴살스테이크', 'kh', '경기도', 1, 4300, SYSDATE, 3);
INSERT INTO SALEORDER VALUES(ORDER_ID.NEXTVAL, 9, '갈릭 케이준 치킨 토핑 샐러드      ', 'kh', '경기도', 2, 10600, SYSDATE, 4);

-- 샵 리뷰 테스트디비
INSERT INTO REVIEW VALUES(R_NO.NEXTVAL, 0, 0, 'kh', '현미닭가슴살영양밥', 'ㅁㅁㅁㅁㅁㅁㅁㅁㅁㅁ', 'IMG', SYSDATE);
INSERT INTO REVIEW VALUES(R_NO.NEXTVAL, 1, 3, 'kh', '다섯가지나물밥', '그럭저럭', 'IMG', SYSDATE);
INSERT INTO REVIEW VALUES(R_NO.NEXTVAL, 3, 1, 'kh', '고구마현미영양밥', 'ㅁㅁㅁㅁㅁㅁㅁㅁㅁ', 'IMG', SYSDATE);
INSERT INTO REVIEW VALUES(R_NO.NEXTVAL, 9, 5, 'kh', '케이준', '맛좋아', 'IMG', SYSDATE);




--칼 디비는 com.cal.dao 안에 있는 calMain.java를 실행해 줘야합니다.

--정보디비

INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'스포케이','부산 금정구 구서중앙로15번길 20','월~토 06:00 ~ 21:00,051-554-5999',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'스포애니 논현역점','서울 강남구 학동로4길 15 동화히스토리 지하 1층 (우)06110','약 700여평 최고 시설로 오픈한 스포애니 논현역점은 골프, 스피닝, 헬스, 핫요가, 다이어트댄스 등 각종 G.X를 갖춘 종합 피트니스센터입니다.',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'바디스페이스','서울 강남구 강남대로 520 영동빌딩 3층','영업시간  월~금 00:00 ~ 24:00,02-517-6191',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'지스포츠컴플렉스','부산 북구 금곡대로 230 금용레포츠타운 지하 1~3층 (우)46537','월~금 06:00 ~ 23:00,051-362-2337',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'빅스포','광주 남구 서문대로 745','영업시간  월~금 00:00 ~ 24:00,062-606-8000',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'htv휘트니스','서울 동대문구 망우로 101 JS빌딩5,6,7층 (우)02436','영업시간  월~금 00:00 ~ 24:00,02-3394-5155',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'코오롱스포렉스 서초점','서울 서초구 서초대로70길 32 (우)06623','월~금 06:00 ~ 22:00,02-580-8301',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'신세계스포렉스','대구 수성구 신천동로 350 (우)42127','매일 06:00 ~ 23:30,053-746-9821',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'신세계스포렉스','대구 수성구 신천동로 350 (우)42127','매일 06:00 ~ 23:30,053-746-9821',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'헬로우짐 부평점','인천 부평구 경원대로 1366 스테이션타워 8층 (우)21404','월~금 06:00 ~ 01:00,032-506-0033',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'경성스포츠','대전 서구 갈마로 209 (우)35293','042-527-3366',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'필립발리휘트니스 정자본점','경기 성남시 분당구 내정로 58 (우)13607','매일 09:00 ~ 22:50,031-728-7777',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'VIP휘트니스','서울 마포구 월드컵북로 30 동서빌딩 지하1층 (우)03992','월~금 00:00 ~ 24:00,02-336-6434',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'달라스휘트니스','부산 해운대구 좌동로 88 10~11층','영업시간  월~금 07:00 ~ 24:00,051-701-5060',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'새마을휘트니스 중동점','경기 부천시 중동로 244 상록센트럴타워 4층 (우)14548','영업시간  월~금 07:00 ~ 24:00,032-227-2002',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 2,'스포애니 강남역1호점','서울 강남구 강남대로78길 8 한국빌딩 지하2층 (우)06242','영업시간  월~금 07:00 ~ 24:00,02-556-2558',SYSDATE);

INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'뚝섬유원지역 1번출구 앞 대여소','서울 광진구 능동로 10 (우)05096','월영공원낙동강하구둑총거리 485km, 소요시간 약 8시간 20분',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'금강자전거길','충남 공주시 금성동','금강하구둑대청댐총거리 190km, 소요시간 약 12시간 40분',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'섬진강자전거길','전남 곡성군 고달면 두가리 543','회문삼거리배알도 수변공원총거리 145km, 소요시간 약 9시간 40분',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'한강자전거길','서울 강남구 압구정동','전호대교팔당대교총거리 103km, 소요시간 약 6시간 52분',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'남한강자전거길','경기 여주시 단현동 4-1','팔당대교충주댐총거리 135km, 소요시간 약 9시간',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'화천파로호100리산소길','강원 화천군 화천읍','강원 화천군 하남면어릉동마을입구총거리 29km, 소요시간 약 1시간 56분',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'제주환상자전거길 1구간','제주특별자치도 제주시 외도2동','용두암다락쉼터총거리 21km, 소요시간 약 1시간 24분',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'영산강자전거길','전남 나주시 영산동','삼호대교담양댐총거리 186km, 소요시간 약 12시간 24분',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'중랑천자전거길','서울 노원구 상계동 790-9','양비교양재교총거리 63km, 소요시간 약 4시간 12분',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'안양천자전거길','경기 안양시 만안구 석수동 423-36','염창교경기 의왕시 고천동총거리 52km, 소요시간 약 3시간 28분',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'금호강자전거길','대구 동구 금강동','월성교경북 영천시 조교동총거리 79km, 소요시간 약 5시간 16분',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'수영강자전거길','부산 동래구 안락동','회동교수영교총거리 14km, 소요시간 약 56분',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'동해안자전거길','경북 울진군 죽변면 봉평리 5-6','통일전망대경북 경주시 수렴리총거리 514km, 소요시간 약 34시간 16분',SYSDATE);
INSERT INTO INFOBOARD VALUES(MYSEQ.NEXTVAL, 3,'수영강자전거길','부산 동래구 안락동','회동교수영교총거리 14km, 소요시간 약 56분',SYSDATE);

